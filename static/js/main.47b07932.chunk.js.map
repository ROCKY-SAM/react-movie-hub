{"version":3,"sources":["DataFetching.js","App.js","index.js"],"names":["DataFetching","useState","posts","setPosts","page","setPage","isFetching","setIsFetching","handleScroll","window","innerHeight","document","documentElement","scrollTop","offsetHeight","useEffect","addEventListener","removeEventListener","axios","get","then","res","prevState","data","movies","catch","err","console","log","map","post","className","id","src","large_cover_image","alt","title","year","rating","runtime","genres","txt","summary","href","url","target","rel","torrents","quality","size","style","backgroundImage","imdb_code","onClick","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"kOA6EeA,MA1Ef,WACI,MAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAwBF,mBAAS,GAAjC,mBAAOG,EAAP,KAAaC,EAAb,KACA,EAAoCJ,oBAAS,GAA7C,mBAAOK,EAAP,KAAmBC,EAAnB,KASA,SAASC,IACDC,OAAOC,YAAcC,SAASC,gBAAgBC,YAAcF,SAASC,gBAAgBE,cAAgBR,IAGrGD,EAAQD,EAAO,GACfG,GAAc,IAiBtB,OA9BAQ,qBAAU,WAEN,OADAN,OAAOO,iBAAiB,SAAUR,GAC3B,kBAAMC,OAAOQ,oBAAoB,SAAUT,MACnD,IACHO,qBAAU,WACDT,GAgBLY,IAAMC,IAAI,wFAA0Ff,GAC/FgB,MAAK,SAAAC,GACFlB,GAAS,SAAAmB,GAAS,4BAASA,GAAT,YAAuBD,EAAIE,KAAKA,KAAKC,YACvDjB,GAAc,MAEjBkB,OAAM,SAAAC,GACHC,QAAQC,IAAIF,QApBrB,CAACpB,IAwBA,gCACKJ,EAAM2B,KAAI,SAAAC,GAAI,OACX,sBAAKC,UAAU,aAAaC,GAAG,MAA/B,UACI,sBAAKD,UAAU,eAAf,UACI,sBAAKA,UAAU,eAAf,UACI,qBAAKA,UAAU,YAAYE,IAAKH,EAAKI,kBAAmBC,IAAI,eAC5D,6BAAKL,EAAKM,QACV,+BAAKN,EAAKO,KAAV,YAAyBP,EAAKQ,UAC9B,uBAAMP,UAAU,UAAhB,UAA2BD,EAAKS,QAAhC,UACA,mBAAGR,UAAU,OAAb,SACKD,EAAKU,OAAOX,KAAI,SAAAY,GAAG,OAAI,uCAAUA,aAG1C,qBAAKV,UAAU,aAAf,SACI,mBAAGA,UAAU,OAAb,SACKD,EAAKY,YAGd,sBAAKX,UAAU,eAAf,UACI,6BACI,6BAAI,mBAAGA,UAAU,WAAb,SAAwB,mBAAGY,KAAMb,EAAKc,IAAKC,OAAO,SAASC,IAAI,aAAvC,+BAEhC,uBACA,+BACI,6BAAI,mBAAGf,UAAU,iBAAb,wBACHD,EAAKiB,UAAYjB,EAAKiB,SAASlB,KAAI,SAAAY,GAAG,OACnC,6BAAI,mBAAGV,UAAU,WAAb,SAAwB,oBAAGY,KAAMF,EAAIG,IAAb,UAAmBH,EAAIO,QAAvB,IAAiCP,EAAIQ,KAArC,uBAK5C,qBAAKlB,UAAU,aAAamB,MAAO,CAAEC,gBAAiB,OAASrB,EAAKI,kBAAoB,SA7BlDJ,EAAKE,GAAKF,EAAKsB,UAAYtB,EAAKS,aAgC5EjC,GAAc,mBAAGyB,UAAU,WAAWsB,QAjDhD,WACIhD,EAAQD,EAAO,GACfG,GAAc,IA+CM,uBACfD,GAAc,mBAAGyB,UAAU,WAAb,6CC/DZuB,MARf,WACE,OACE,sBAAKvB,UAAU,MAAf,UACE,mBAAGA,UAAU,YAAb,yBACE,cAAC,EAAD,QCARwB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF9C,SAAS+C,eAAe,W","file":"static/js/main.47b07932.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios';\n\nfunction DataFetching() {\n    const [posts, setPosts] = useState([]);\n    const [page, setPage] = useState(1);\n    const [isFetching, setIsFetching] = useState(true);\n    useEffect(() => {\n        window.addEventListener('scroll', handleScroll);\n        return () => window.removeEventListener('scroll', handleScroll);\n    }, []);\n    useEffect(() => {\n        if (!isFetching) return;\n        fetchMoreListItems();\n    }, [isFetching]);\n    function handleScroll() {\n        if (window.innerHeight + document.documentElement.scrollTop !== document.documentElement.offsetHeight || isFetching) {\n            return;\n        } else {\n            setPage(page + 1);\n            setIsFetching(true);\n        }\n    }\n    function loadMore() {\n        setPage(page + 1);\n        setIsFetching(true);\n    }\n    function fetchMoreListItems() {\n        axios.get('https://yts.mx/api/v2/list_movies.json?limit=50&sort_by=year&sort_by=like_count&page=' + page)\n            .then(res => {\n                setPosts(prevState => ([...prevState, ...res.data.data.movies]));\n                setIsFetching(false);\n            })\n            .catch(err => {\n                console.log(err);\n            })\n    }\n    return (\n        <div>\n            {posts.map(post =>\n                <div className=\"movie_card\" id=\"ave\" key={post.id + post.imdb_code + post.runtime}>\n                    <div className=\"info_section\">\n                        <div className=\"movie_header\">\n                            <img className=\"locandina\" src={post.large_cover_image} alt=\"coverImage\" />\n                            <h1>{post.title}</h1>\n                            <h4>{post.year}, Rating {post.rating}</h4>\n                            <span className=\"minutes\">{post.runtime} min</span>\n                            <p className=\"type\">\n                                {post.genres.map(txt => <span> | {txt}</span>)}\n                            </p>\n                        </div>\n                        <div className=\"movie_desc\">\n                            <p className=\"text\">\n                                {post.summary}\n                            </p>\n                        </div>\n                        <div className=\"movie_social\">\n                            <ul>\n                                <li><i className=\"gotoLink\"><a href={post.url} target=\"_blank\" rel=\"noreferrer\">View in YTS</a></i></li>\n                            </ul>\n                            <br></br>\n                            <ul>\n                                <li><i className=\"material-icons\">Download</i></li>\n                                {post.torrents && post.torrents.map(txt =>\n                                    <li><i className=\"gotoLink\"><a href={txt.url}>{txt.quality}({txt.size})</a></i></li>\n                                )}\n                            </ul>\n                        </div>\n                    </div>\n                    <div className=\"blur_back \" style={{ backgroundImage: \"url(\" + post.large_cover_image + \")\" }} ></div>\n                </div>\n            )}\n            {!isFetching && <b className=\"fetching\" onClick={loadMore}>Load More</b>}\n            {isFetching && <b className=\"fetching\">Fetching more list items...</b>}\n        </div>\n    );\n}\nexport default DataFetching\n","import './App.css';\nimport DataFetching from './DataFetching';\nfunction App() {\n  return (\n    <div className=\"App\">\n      <b className=\"mainTitle\">Movie plaza</b>\n        <DataFetching/>\n    </div>\n  );\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}